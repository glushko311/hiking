{% extends "::base.html.twig" %}

{% block stylesheets %}
    <style>
        h1{
            text-align: center;
        }
        .link-track-item{
            text-decoration: none;
            color: #000000;
        }
        .track-item-container{
            display: flex;
            justify-content: space-around;
            align-items: stretch;
            border:1px solid #000000;
        }
        .track-item-container .field{
            width:6vw;
            border-right: 1px solid #000000;
            text-decoration: none;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .track-item-container .field p{
            font-size: 2vw;
        }
        .track-item-container .field a{
            font-size: 1.5vw;
            text-decoration: underline;
            color:blue;
            display: block;
        }
        .track-item-container .field a:hover{
            color:#000000;
        }
        .track-item-container .field:last-child{
            border-right:0;
        }
        .track-item-container .field-track{
            width:58vw;
            text-align: left;
            padding-left: 2vw;
            justify-content: flex-start;
        }
        .track-item-container .field-date{
            width:11vw;
        }
        .track-item-container .field-difficult{
            width:11vw;

        }
        .track-item-container .field-members{
            width:12vw;
            flex-direction: column;
            font-size: 1.2vw;

        }
        .check-form{
            display:flex;
            align-items:center;
            justify-content: space-around;
        }
    </style>
{% endblock %}

{% block body %}
<div class="page_title" id="page_title">
    <h1> Мои походы </h1>
</div>
    <form class="check-form" id="check-track-status-form" action="">
        <p class="is_fin"><input id="check-track-radio1" name="is_fin" type="radio" value="true" {{ is_fin.fin }}> Прошедшие</p>
        <p class="is_fin"><input id="check-track-radio2" name="is_fin" type="radio" value="false" {{ is_fin.plan }}> Запланированные</p>
    </form>
    <div class="track-item-container">

        <div class="field field-date">
            <p>Дата</p>
        </div>


        <div class="field field-days">
            <p>Дней</p>
        </div>


        <div class="field field-difficult">
            <p>Сложность</p>
        </div>


        <div class="field field-track">
            <p>Нитка маршрута</p>
        </div>
        <div class="field field-members">
            <p>Участники</p>
        </div>
    </div>
    {% for track in tracks %}
    <article>
        <div class="container track-container">

                <div class="track-item-container">

                        <div class="field field-date">
                            <p>{{ track.date|date("d-m-Y") }}</p>
                        </div>


                        <div class="field field-days">
                            <p>{{ track.days }}</p>
                        </div>


                        <div class="field field-difficult">
                            <p>{{ track.difficult }}</p>
                        </div>


                        <div class="field field-track">
                            <a class="link-track-item" href="{{ path('single_track', {'track_id' : track.track_id}) }}">{{ track.track }}</a>
                        </div>
                        <div class="field field-members">
                            {% set current_track_id = track.track_id %}
                            {% for member in members[current_track_id] %}
                                <a href="{{ path('single_member', {'member_id' : member.0.member_id}) }}">{{ member.0.name  }}</a>
                            {% endfor %}
                        </div>


                </div>


        </div>


    </article>
    {% endfor %}
    {#{{ dump(members) }}#}
    <script type="application/javascript">
        document.getElementById('check-track-radio1').onclick = function(){
            document.getElementById('check-track-status-form').submit();
        };
        document.getElementById('check-track-radio2').onclick = function(){
            document.getElementById('check-track-status-form').submit();
        };

    </script>
{% endblock %}

